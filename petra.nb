(* Content-type: application/vnd.wolfram.mathematica *)

(*** Wolfram Notebook File ***)
(* http://www.wolfram.com/nb *)

(* CreatedBy='Mathematica 12.3' *)

(*CacheID: 234*)
(* Internal cache information:
NotebookFileLineBreakTest
NotebookFileLineBreakTest
NotebookDataPosition[       158,          7]
NotebookDataLength[     34959,        770]
NotebookOptionsPosition[     33917,        745]
NotebookOutlinePosition[     34367,        762]
CellTagsIndexPosition[     34324,        759]
WindowFrame->Normal*)

(* Beginning of Notebook Content *)
Notebook[{
Cell[BoxData[
 RowBox[{
  RowBox[{"qiblas", "=", 
   TagBox[
    TagBox[GridBox[{
       {
        TagBox[
         RowBox[{" ", "Qibla"}],
         HoldForm], 
        TagBox[
         RowBox[{" ", "City"}],
         HoldForm], 
        TagBox[
         RowBox[{" ", "Country"}],
         HoldForm]},
       {"\"\<Petra\>\"", "\"\<Wadi Musa\>\"", "\"\<Jordan\>\""},
       {"\"\<Ka\[ABar]ba\>\"", "\"\<Mecca\>\"", "\"\<SaudiArabia\>\""},
       {"\"\<al-Aqsa\>\"", "\"\<Jerusalem\>\"", "\"\<Israel\>\""}
      },
      GridBoxAlignment->{"Columns" -> {{Left}}, "Rows" -> {{Baseline}}},
      GridBoxDividers->{
       "Columns" -> {{False}}, "Rows" -> {False, True, {False}, False}},
      GridBoxSpacings->{"Columns" -> {
          Offset[0.27999999999999997`], {
           Offset[2.0999999999999996`]}, 
          Offset[0.27999999999999997`]}, "Rows" -> {
          Offset[0.2], {
           Offset[0.8]}, 
          Offset[0.2]}}],
     {None, OutputFormsDump`HeadedColumns}],
    Function[BoxForm`e$, 
     TableForm[
     BoxForm`e$, TableHeadings -> {None, {"Qibla", "City", "Country"}}, 
      TableSpacing -> {2, 3}]]]}], "   ", ";"}]], "Input",
 CellChangeTimes->{
  3.8449301154355955`*^9, {3.8449302949146843`*^9, 3.844930366081563*^9}, {
   3.8449308478321433`*^9, 3.8449308497694955`*^9}, {3.8449321591297617`*^9, 
   3.844932201537877*^9}, 3.84493961796211*^9, {3.8460547877085123`*^9, 
   3.846054858824712*^9}, {3.846054992577488*^9, 3.846055040541348*^9}},
 CellLabel->"In[14]:=",ExpressionUUID->"4594013f-50d0-412e-912c-b672a554243d"],

Cell[BoxData[
 RowBox[{
  RowBox[{"direction", "=", 
   RowBox[{
    RowBox[{"GeoDirection", "@@", 
     RowBox[{"Map", "[", 
      RowBox[{
       RowBox[{
        RowBox[{"#", "~", "CityData", "~", "\"\<Coordinates\>\""}], "&"}], 
       ",", 
       RowBox[{"{", "##", "}"}]}], "]"}]}], "&"}]}], ";"}]], "Input",
 CellChangeTimes->{{3.8437221442828784`*^9, 3.843722197123809*^9}, {
   3.843722286645583*^9, 3.843722307387534*^9}, 3.843722633326769*^9, {
   3.8437260092469044`*^9, 3.843726074279989*^9}, {3.8437261045282726`*^9, 
   3.843726116635337*^9}, {3.8437268206519346`*^9, 3.843726828135751*^9}, 
   3.84460024547838*^9, 3.8446003023350687`*^9},
 CellLabel->"In[6]:=",ExpressionUUID->"7fe55120-d5b6-4a16-a2a4-04f5afc3b267"],

Cell[BoxData[
 RowBox[{
  RowBox[{"compareQibla", "[", 
   RowBox[{"city_", ",", " ", 
    RowBox[{"orientation_", " ", ":", " ", "0"}]}], "]"}], " ", ":=", " ", 
  RowBox[{"Module", "[", "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{"a", ",", " ", 
      RowBox[{"o", "=", 
       RowBox[{"Point", "@", 
        RowBox[{"{", 
         RowBox[{"0", ",", "0"}], "}"}]}]}], ",", " ", 
      RowBox[{"g", "=", 
       RowBox[{"{", 
        RowBox[{"Red", ",", "Green", ",", "Blue", ",", "Gray"}], "}"}]}], ",",
       " ", "q"}], "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"a", "=", 
      RowBox[{
       RowBox[{"Arrow", "@", 
        RowBox[{"AnglePath", "[", 
         RowBox[{"{", 
          RowBox[{
           RowBox[{"\[Pi]", "/", "2"}], "-", "#"}], "}"}], "]"}]}], "&"}]}], 
     ";", "\[IndentingNewLine]", 
     RowBox[{"q", "=", 
      RowBox[{"Riffle", "[", 
       RowBox[{"g", ",", 
        RowBox[{"First", "/@", "qiblas"}]}], "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"g", "=", 
      RowBox[{"Riffle", "[", 
       RowBox[{"g", ",", 
        RowBox[{
         RowBox[{
          RowBox[{"a", "@", 
           RowBox[{"direction", "[", 
            RowBox[{"city", ",", 
             RowBox[{"Rest", "@", "#"}]}], "]"}]}], "&"}], "/@", "qiblas"}]}],
        "]"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"If", "[", 
      RowBox[{
       RowBox[{"orientation", "!=", "0"}], ",", 
       RowBox[{
        RowBox[{"o", "=", 
         RowBox[{"a", "[", "orientation", "]"}]}], ";", 
        RowBox[{"q", "~", "AppendTo", "~", "\"\<Mosque Orientation\>\""}]}]}],
       "]"}], ";", "\[IndentingNewLine]", 
     RowBox[{"g", "=", 
      RowBox[{"Graphics", "[", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{"Thick", ",", 
          RowBox[{"Sequence", "@@", "g"}], ",", "o", ",", "Dashed", ",", 
          RowBox[{"Thickness", "@", "Medium"}], ",", 
          RowBox[{"Circle", "[", "]"}]}], "}"}], ",", "\[IndentingNewLine]", 
        RowBox[{"ImageSize", "\[Rule]", "Medium"}], ",", 
        RowBox[{"PlotLabel", "\[Rule]", 
         RowBox[{"city", "~", "StringRiffle", "~", "\"\<, \>\""}]}]}], 
       "]"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"Row", "@", 
      RowBox[{"{", 
       RowBox[{"g", ",", " ", 
        RowBox[{"LineLegend", "@@", 
         RowBox[{"Thread", "@", 
          RowBox[{"Partition", "[", 
           RowBox[{"q", ",", "2"}], "]"}]}]}]}], "}"}]}]}]}], 
   "]"}]}]], "Input",
 CellChangeTimes->{{3.8437223984755263`*^9, 3.843722473736105*^9}, {
   3.8437226588718147`*^9, 3.843722810591332*^9}, {3.843722843221257*^9, 
   3.8437229265410566`*^9}, {3.8437229580209503`*^9, 
   3.8437230272371025`*^9}, {3.84372316465339*^9, 3.8437232027866397`*^9}, {
   3.843723296110361*^9, 3.843723325696808*^9}, {3.84372338243204*^9, 
   3.8437234002398324`*^9}, {3.8437234313106256`*^9, 
   3.8437234388554087`*^9}, {3.843723734454291*^9, 3.8437237427991934`*^9}, {
   3.843723824259556*^9, 3.843723834475442*^9}, {3.84372394915849*^9, 
   3.8437239514444447`*^9}, {3.843724719017022*^9, 3.8437247769497814`*^9}, {
   3.8437248121032605`*^9, 3.8437249067883835`*^9}, {3.843725034879739*^9, 
   3.8437250799794397`*^9}, {3.8437253162479334`*^9, 3.843725354539567*^9}, {
   3.8437254178613224`*^9, 3.843725434992911*^9}, {3.8437255058335705`*^9, 
   3.8437255288304443`*^9}, {3.8437256501969748`*^9, 3.843725658732991*^9}, {
   3.843725691763126*^9, 3.8437257035148115`*^9}, {3.84372573742933*^9, 
   3.8437257855602226`*^9}, {3.8437267213881907`*^9, 
   3.8437268095477886`*^9}, {3.8437268626123686`*^9, 
   3.8437269399228086`*^9}, {3.8437270111762753`*^9, 3.843727016091333*^9}, {
   3.8437272189541173`*^9, 3.8437272585144157`*^9}, {3.8437273094142313`*^9, 
   3.8437273113638763`*^9}, {3.8437275358696833`*^9, 3.843727550748562*^9}, {
   3.8437276323946967`*^9, 3.843727674864256*^9}, {3.8437279640470233`*^9, 
   3.843727970285262*^9}, {3.8437280096332273`*^9, 3.843728021416975*^9}, 
   3.843728191609222*^9, 3.8446002774742937`*^9, {3.844600522743845*^9, 
   3.8446005263516564`*^9}, 3.8446010068155775`*^9, {3.8446016639405804`*^9, 
   3.844601705374911*^9}, 3.8446852742522564`*^9, 3.8446874520984774`*^9, 
   3.844688160596184*^9, {3.8449310058358164`*^9, 3.844931013085269*^9}, 
   3.844931061191049*^9, {3.8449311330138235`*^9, 3.8449311595119205`*^9}, {
   3.8449319272302837`*^9, 3.8449319576407127`*^9}},
 CellLabel->"In[7]:=",ExpressionUUID->"e1f0f97a-c8ce-4c03-8a8c-1566abe4c485"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"compareQibla", "[", 
  RowBox[{"{", 
   RowBox[{"\"\<Tehran\>\"", ",", "\"\<Iran\>\""}], "}"}], "]"}]], "Input",
 CellLabel->"In[5]:=",ExpressionUUID->"4df22ac6-69a1-4718-915b-ecdfac206ecb"],

Cell[BoxData[
 TemplateBox[{
   GraphicsBox[{
     Thickness[Large], 
     RGBColor[1, 0, 0], 
     ArrowBox[{{0, 0}, {-0.9552677535634663, -0.295742318584623}}], 
     RGBColor[0, 1, 0], 
     ArrowBox[{{0, 0}, {-0.6254438771735873, -0.7802691564492799}}], 
     RGBColor[0, 0, 1], 
     ArrowBox[{{0, 0}, {-0.9802868379463886, -0.1975796430533037}}], 
     GrayLevel[0.5], 
     PointBox[{0, 0}], 
     Dashing[{Small, Small}], 
     Thickness[Medium], 
     CircleBox[{0, 0}]}, ImageSize -> Medium, PlotLabel -> 
    FormBox["\"Tehran, Iran\"", TraditionalForm]], 
   TemplateBox[{"\"Petra\"", "\"Ka\[ADoubleDot]ba\"", "\"al-Aqsa\""}, 
    "LineLegend", DisplayFunction -> (StyleBox[
      StyleBox[
       PaneBox[
        TagBox[
         GridBox[{{
            TagBox[
             GridBox[{{
                GraphicsBox[{{
                   Directive[
                    EdgeForm[
                    Directive[
                    Opacity[0.3], 
                    GrayLevel[0]]], 
                    PointSize[0.5], 
                    AbsoluteThickness[1.6], 
                    RGBColor[1, 0, 0]], {
                    LineBox[{{0, 10}, {20, 10}}]}}, {
                   Directive[
                    EdgeForm[
                    Directive[
                    Opacity[0.3], 
                    GrayLevel[0]]], 
                    PointSize[0.5], 
                    AbsoluteThickness[1.6], 
                    RGBColor[1, 0, 0]], {}}}, AspectRatio -> Full, 
                 ImageSize -> {20, 10}, PlotRangePadding -> None, 
                 ImagePadding -> Automatic, 
                 BaselinePosition -> (Scaled[0.1] -> Baseline)], #}, {
                GraphicsBox[{{
                   Directive[
                    EdgeForm[
                    Directive[
                    Opacity[0.3], 
                    GrayLevel[0]]], 
                    PointSize[0.5], 
                    AbsoluteThickness[1.6], 
                    RGBColor[0, 1, 0]], {
                    LineBox[{{0, 10}, {20, 10}}]}}, {
                   Directive[
                    EdgeForm[
                    Directive[
                    Opacity[0.3], 
                    GrayLevel[0]]], 
                    PointSize[0.5], 
                    AbsoluteThickness[1.6], 
                    RGBColor[0, 1, 0]], {}}}, AspectRatio -> Full, 
                 ImageSize -> {20, 10}, PlotRangePadding -> None, 
                 ImagePadding -> Automatic, 
                 BaselinePosition -> (Scaled[0.1] -> Baseline)], #2}, {
                GraphicsBox[{{
                   Directive[
                    EdgeForm[
                    Directive[
                    Opacity[0.3], 
                    GrayLevel[0]]], 
                    PointSize[0.5], 
                    AbsoluteThickness[1.6], 
                    RGBColor[0, 0, 1]], {
                    LineBox[{{0, 10}, {20, 10}}]}}, {
                   Directive[
                    EdgeForm[
                    Directive[
                    Opacity[0.3], 
                    GrayLevel[0]]], 
                    PointSize[0.5], 
                    AbsoluteThickness[1.6], 
                    RGBColor[0, 0, 1]], {}}}, AspectRatio -> Full, 
                 ImageSize -> {20, 10}, PlotRangePadding -> None, 
                 ImagePadding -> Automatic, 
                 BaselinePosition -> (Scaled[0.1] -> Baseline)], #3}}, 
              GridBoxAlignment -> {
               "Columns" -> {Center, Left}, "Rows" -> {{Baseline}}}, 
              AutoDelete -> False, 
              GridBoxDividers -> {
               "Columns" -> {{False}}, "Rows" -> {{False}}}, 
              GridBoxItemSize -> {"Columns" -> {{All}}, "Rows" -> {{All}}}, 
              GridBoxSpacings -> {"Columns" -> {{0.5}}, "Rows" -> {{0.8}}}], 
             "Grid"]}}, 
          GridBoxAlignment -> {"Columns" -> {{Left}}, "Rows" -> {{Top}}}, 
          AutoDelete -> False, 
          GridBoxItemSize -> {
           "Columns" -> {{Automatic}}, "Rows" -> {{Automatic}}}, 
          GridBoxSpacings -> {"Columns" -> {{1}}, "Rows" -> {{0}}}], "Grid"], 
        Alignment -> Left, AppearanceElements -> None, 
        ImageMargins -> {{5, 5}, {5, 5}}, ImageSizeAction -> "ResizeToFit"], 
       LineIndent -> 0, StripOnInput -> False], {FontFamily -> "Arial"}, 
      Background -> Automatic, StripOnInput -> False]& ), 
    InterpretationFunction :> (RowBox[{"LineLegend", "[", 
       RowBox[{
         RowBox[{"{", 
           RowBox[{
             InterpretationBox[
              ButtonBox[
               TooltipBox[
                GraphicsBox[{{
                   GrayLevel[0], 
                   RectangleBox[{0, 0}]}, {
                   GrayLevel[0], 
                   RectangleBox[{1, -1}]}, {
                   RGBColor[1, 0, 0], 
                   RectangleBox[{0, -1}, {2, 1}]}}, DefaultBaseStyle -> 
                 "ColorSwatchGraphics", AspectRatio -> 1, Frame -> True, 
                 FrameStyle -> RGBColor[0.6666666666666666, 0., 0.], 
                 FrameTicks -> None, PlotRangePadding -> None, ImageSize -> 
                 Dynamic[{
                   Automatic, 
                    1.35 (CurrentValue["FontCapHeight"]/AbsoluteCurrentValue[
                    Magnification])}]], 
                StyleBox[
                 RowBox[{"RGBColor", "[", 
                   RowBox[{"1", ",", "0", ",", "0"}], "]"}], NumberMarks -> 
                 False]], Appearance -> None, BaseStyle -> {}, 
               BaselinePosition -> Baseline, DefaultBaseStyle -> {}, 
               ButtonFunction :> With[{Typeset`box$ = EvaluationBox[]}, 
                 If[
                  Not[
                   AbsoluteCurrentValue["Deployed"]], 
                  SelectionMove[Typeset`box$, All, Expression]; 
                  FrontEnd`Private`$ColorSelectorInitialAlpha = 1; 
                  FrontEnd`Private`$ColorSelectorInitialColor = 
                   RGBColor[1, 0, 0]; 
                  FrontEnd`Private`$ColorSelectorUseMakeBoxes = True; 
                  MathLink`CallFrontEnd[
                    FrontEnd`AttachCell[Typeset`box$, 
                    FrontEndResource["RGBColorValueSelector"], {
                    0, {Left, Bottom}}, {Left, Top}, 
                    "ClosingActions" -> {
                    "SelectionDeparture", "ParentChanged", 
                    "EvaluatorQuit"}]]]], BaseStyle -> Inherited, Evaluator -> 
               Automatic, Method -> "Preemptive"], 
              RGBColor[1, 0, 0], Editable -> False, Selectable -> False], ",", 
             InterpretationBox[
              ButtonBox[
               TooltipBox[
                GraphicsBox[{{
                   GrayLevel[0], 
                   RectangleBox[{0, 0}]}, {
                   GrayLevel[0], 
                   RectangleBox[{1, -1}]}, {
                   RGBColor[0, 1, 0], 
                   RectangleBox[{0, -1}, {2, 1}]}}, DefaultBaseStyle -> 
                 "ColorSwatchGraphics", AspectRatio -> 1, Frame -> True, 
                 FrameStyle -> RGBColor[0., 0.6666666666666666, 0.], 
                 FrameTicks -> None, PlotRangePadding -> None, ImageSize -> 
                 Dynamic[{
                   Automatic, 
                    1.35 (CurrentValue["FontCapHeight"]/AbsoluteCurrentValue[
                    Magnification])}]], 
                StyleBox[
                 RowBox[{"RGBColor", "[", 
                   RowBox[{"0", ",", "1", ",", "0"}], "]"}], NumberMarks -> 
                 False]], Appearance -> None, BaseStyle -> {}, 
               BaselinePosition -> Baseline, DefaultBaseStyle -> {}, 
               ButtonFunction :> With[{Typeset`box$ = EvaluationBox[]}, 
                 If[
                  Not[
                   AbsoluteCurrentValue["Deployed"]], 
                  SelectionMove[Typeset`box$, All, Expression]; 
                  FrontEnd`Private`$ColorSelectorInitialAlpha = 1; 
                  FrontEnd`Private`$ColorSelectorInitialColor = 
                   RGBColor[0, 1, 0]; 
                  FrontEnd`Private`$ColorSelectorUseMakeBoxes = True; 
                  MathLink`CallFrontEnd[
                    FrontEnd`AttachCell[Typeset`box$, 
                    FrontEndResource["RGBColorValueSelector"], {
                    0, {Left, Bottom}}, {Left, Top}, 
                    "ClosingActions" -> {
                    "SelectionDeparture", "ParentChanged", 
                    "EvaluatorQuit"}]]]], BaseStyle -> Inherited, Evaluator -> 
               Automatic, Method -> "Preemptive"], 
              RGBColor[0, 1, 0], Editable -> False, Selectable -> False], ",", 
             InterpretationBox[
              ButtonBox[
               TooltipBox[
                GraphicsBox[{{
                   GrayLevel[0], 
                   RectangleBox[{0, 0}]}, {
                   GrayLevel[0], 
                   RectangleBox[{1, -1}]}, {
                   RGBColor[0, 0, 1], 
                   RectangleBox[{0, -1}, {2, 1}]}}, DefaultBaseStyle -> 
                 "ColorSwatchGraphics", AspectRatio -> 1, Frame -> True, 
                 FrameStyle -> RGBColor[0., 0., 0.6666666666666666], 
                 FrameTicks -> None, PlotRangePadding -> None, ImageSize -> 
                 Dynamic[{
                   Automatic, 
                    1.35 (CurrentValue["FontCapHeight"]/AbsoluteCurrentValue[
                    Magnification])}]], 
                StyleBox[
                 RowBox[{"RGBColor", "[", 
                   RowBox[{"0", ",", "0", ",", "1"}], "]"}], NumberMarks -> 
                 False]], Appearance -> None, BaseStyle -> {}, 
               BaselinePosition -> Baseline, DefaultBaseStyle -> {}, 
               ButtonFunction :> With[{Typeset`box$ = EvaluationBox[]}, 
                 If[
                  Not[
                   AbsoluteCurrentValue["Deployed"]], 
                  SelectionMove[Typeset`box$, All, Expression]; 
                  FrontEnd`Private`$ColorSelectorInitialAlpha = 1; 
                  FrontEnd`Private`$ColorSelectorInitialColor = 
                   RGBColor[0, 0, 1]; 
                  FrontEnd`Private`$ColorSelectorUseMakeBoxes = True; 
                  MathLink`CallFrontEnd[
                    FrontEnd`AttachCell[Typeset`box$, 
                    FrontEndResource["RGBColorValueSelector"], {
                    0, {Left, Bottom}}, {Left, Top}, 
                    "ClosingActions" -> {
                    "SelectionDeparture", "ParentChanged", 
                    "EvaluatorQuit"}]]]], BaseStyle -> Inherited, Evaluator -> 
               Automatic, Method -> "Preemptive"], 
              RGBColor[0, 0, 1], Editable -> False, Selectable -> False]}], 
           "}"}], ",", 
         RowBox[{"{", 
           RowBox[{#, ",", #2, ",", #3}], "}"}]}], "]"}]& ), Editable -> 
    True]},
  "RowDefault"]], "Output",
 CellChangeTimes->{
  3.843722256475526*^9, {3.8437222974374914`*^9, 3.843722311350597*^9}, 
   3.8437239073857737`*^9, 3.843723959203333*^9, 3.843724594499976*^9, {
   3.843724887638172*^9, 3.8437249139295197`*^9}, 3.843725090167782*^9, 
   3.8437252466848974`*^9, 3.843725358021865*^9, 3.843725910461274*^9, 
   3.8437261870309243`*^9, 3.843726375479515*^9, 3.8437270472612457`*^9, 
   3.843727838020789*^9, 3.843728033972126*^9, 3.843728520468334*^9, 
   3.8446017359313707`*^9, 3.8446852868082433`*^9, 3.8449311848694057`*^9, {
   3.8449319369639606`*^9, 3.844931959906166*^9}, 3.844932091565278*^9, 
   3.844932216333657*^9, 3.8449396674267464`*^9},
 CellLabel->"Out[5]=",ExpressionUUID->"627949ac-f2fc-476a-94a1-8aeb6bcfba25"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"compareQibla", "[", 
  RowBox[{
   RowBox[{"{", 
    RowBox[{"\"\<Baghdad\>\"", ",", "\"\<Iraq\>\""}], "}"}], ",", 
   RowBox[{"229.5", "\[Degree]"}]}], "]"}]], "Input",
 CellLabel->"In[6]:=",ExpressionUUID->"e1f6e3d5-6af4-44b1-b406-6a4414cd8388"],

Cell[BoxData[
 TemplateBox[{
   GraphicsBox[{
     Thickness[Large], 
     RGBColor[1, 0, 0], 
     ArrowBox[{{0, 0}, {-0.9451261222714286, -0.3267056978385481}}], 
     RGBColor[0, 1, 0], 
     ArrowBox[{{0, 0}, {-0.34569558093702873`, -0.9383467191398978}}], 
     RGBColor[0, 0, 1], 
     ArrowBox[{{0, 0}, {-0.9884448116947465, -0.15158118034154877`}}], 
     GrayLevel[0.5], 
     ArrowBox[{{0., 0.}, {-0.7604059656000312, -0.6494480483301834}}], 
     Dashing[{Small, Small}], 
     Thickness[Medium], 
     CircleBox[{0, 0}]}, ImageSize -> Medium, PlotLabel -> 
    FormBox["\"Baghdad, Iraq\"", TraditionalForm]], 
   TemplateBox[{
    "\"Petra\"", "\"Ka\[ADoubleDot]ba\"", "\"al-Aqsa\"", 
     "\"Mosque Orientation\""}, "LineLegend", DisplayFunction -> (StyleBox[
      StyleBox[
       PaneBox[
        TagBox[
         GridBox[{{
            TagBox[
             GridBox[{{
                GraphicsBox[{{
                   Directive[
                    EdgeForm[
                    Directive[
                    Opacity[0.3], 
                    GrayLevel[0]]], 
                    PointSize[0.5], 
                    AbsoluteThickness[1.6], 
                    RGBColor[1, 0, 0]], {
                    LineBox[{{0, 10}, {20, 10}}]}}, {
                   Directive[
                    EdgeForm[
                    Directive[
                    Opacity[0.3], 
                    GrayLevel[0]]], 
                    PointSize[0.5], 
                    AbsoluteThickness[1.6], 
                    RGBColor[1, 0, 0]], {}}}, AspectRatio -> Full, 
                 ImageSize -> {20, 10}, PlotRangePadding -> None, 
                 ImagePadding -> Automatic, 
                 BaselinePosition -> (Scaled[0.1] -> Baseline)], #}, {
                GraphicsBox[{{
                   Directive[
                    EdgeForm[
                    Directive[
                    Opacity[0.3], 
                    GrayLevel[0]]], 
                    PointSize[0.5], 
                    AbsoluteThickness[1.6], 
                    RGBColor[0, 1, 0]], {
                    LineBox[{{0, 10}, {20, 10}}]}}, {
                   Directive[
                    EdgeForm[
                    Directive[
                    Opacity[0.3], 
                    GrayLevel[0]]], 
                    PointSize[0.5], 
                    AbsoluteThickness[1.6], 
                    RGBColor[0, 1, 0]], {}}}, AspectRatio -> Full, 
                 ImageSize -> {20, 10}, PlotRangePadding -> None, 
                 ImagePadding -> Automatic, 
                 BaselinePosition -> (Scaled[0.1] -> Baseline)], #2}, {
                GraphicsBox[{{
                   Directive[
                    EdgeForm[
                    Directive[
                    Opacity[0.3], 
                    GrayLevel[0]]], 
                    PointSize[0.5], 
                    AbsoluteThickness[1.6], 
                    RGBColor[0, 0, 1]], {
                    LineBox[{{0, 10}, {20, 10}}]}}, {
                   Directive[
                    EdgeForm[
                    Directive[
                    Opacity[0.3], 
                    GrayLevel[0]]], 
                    PointSize[0.5], 
                    AbsoluteThickness[1.6], 
                    RGBColor[0, 0, 1]], {}}}, AspectRatio -> Full, 
                 ImageSize -> {20, 10}, PlotRangePadding -> None, 
                 ImagePadding -> Automatic, 
                 BaselinePosition -> (Scaled[0.1] -> Baseline)], #3}, {
                GraphicsBox[{{
                   Directive[
                    EdgeForm[
                    Directive[
                    Opacity[0.3], 
                    GrayLevel[0]]], 
                    PointSize[0.5], 
                    AbsoluteThickness[1.6], 
                    GrayLevel[0.5]], {
                    LineBox[{{0, 10}, {20, 10}}]}}, {
                   Directive[
                    EdgeForm[
                    Directive[
                    Opacity[0.3], 
                    GrayLevel[0]]], 
                    PointSize[0.5], 
                    AbsoluteThickness[1.6], 
                    GrayLevel[0.5]], {}}}, AspectRatio -> Full, 
                 ImageSize -> {20, 10}, PlotRangePadding -> None, 
                 ImagePadding -> Automatic, 
                 BaselinePosition -> (Scaled[0.1] -> Baseline)], #4}}, 
              GridBoxAlignment -> {
               "Columns" -> {Center, Left}, "Rows" -> {{Baseline}}}, 
              AutoDelete -> False, 
              GridBoxDividers -> {
               "Columns" -> {{False}}, "Rows" -> {{False}}}, 
              GridBoxItemSize -> {"Columns" -> {{All}}, "Rows" -> {{All}}}, 
              GridBoxSpacings -> {"Columns" -> {{0.5}}, "Rows" -> {{0.8}}}], 
             "Grid"]}}, 
          GridBoxAlignment -> {"Columns" -> {{Left}}, "Rows" -> {{Top}}}, 
          AutoDelete -> False, 
          GridBoxItemSize -> {
           "Columns" -> {{Automatic}}, "Rows" -> {{Automatic}}}, 
          GridBoxSpacings -> {"Columns" -> {{1}}, "Rows" -> {{0}}}], "Grid"], 
        Alignment -> Left, AppearanceElements -> None, 
        ImageMargins -> {{5, 5}, {5, 5}}, ImageSizeAction -> "ResizeToFit"], 
       LineIndent -> 0, StripOnInput -> False], {FontFamily -> "Arial"}, 
      Background -> Automatic, StripOnInput -> False]& ), 
    InterpretationFunction :> (RowBox[{"LineLegend", "[", 
       RowBox[{
         RowBox[{"{", 
           RowBox[{
             InterpretationBox[
              ButtonBox[
               TooltipBox[
                GraphicsBox[{{
                   GrayLevel[0], 
                   RectangleBox[{0, 0}]}, {
                   GrayLevel[0], 
                   RectangleBox[{1, -1}]}, {
                   RGBColor[1, 0, 0], 
                   RectangleBox[{0, -1}, {2, 1}]}}, DefaultBaseStyle -> 
                 "ColorSwatchGraphics", AspectRatio -> 1, Frame -> True, 
                 FrameStyle -> RGBColor[0.6666666666666666, 0., 0.], 
                 FrameTicks -> None, PlotRangePadding -> None, ImageSize -> 
                 Dynamic[{
                   Automatic, 
                    1.35 (CurrentValue["FontCapHeight"]/AbsoluteCurrentValue[
                    Magnification])}]], 
                StyleBox[
                 RowBox[{"RGBColor", "[", 
                   RowBox[{"1", ",", "0", ",", "0"}], "]"}], NumberMarks -> 
                 False]], Appearance -> None, BaseStyle -> {}, 
               BaselinePosition -> Baseline, DefaultBaseStyle -> {}, 
               ButtonFunction :> With[{Typeset`box$ = EvaluationBox[]}, 
                 If[
                  Not[
                   AbsoluteCurrentValue["Deployed"]], 
                  SelectionMove[Typeset`box$, All, Expression]; 
                  FrontEnd`Private`$ColorSelectorInitialAlpha = 1; 
                  FrontEnd`Private`$ColorSelectorInitialColor = 
                   RGBColor[1, 0, 0]; 
                  FrontEnd`Private`$ColorSelectorUseMakeBoxes = True; 
                  MathLink`CallFrontEnd[
                    FrontEnd`AttachCell[Typeset`box$, 
                    FrontEndResource["RGBColorValueSelector"], {
                    0, {Left, Bottom}}, {Left, Top}, 
                    "ClosingActions" -> {
                    "SelectionDeparture", "ParentChanged", 
                    "EvaluatorQuit"}]]]], BaseStyle -> Inherited, Evaluator -> 
               Automatic, Method -> "Preemptive"], 
              RGBColor[1, 0, 0], Editable -> False, Selectable -> False], ",", 
             InterpretationBox[
              ButtonBox[
               TooltipBox[
                GraphicsBox[{{
                   GrayLevel[0], 
                   RectangleBox[{0, 0}]}, {
                   GrayLevel[0], 
                   RectangleBox[{1, -1}]}, {
                   RGBColor[0, 1, 0], 
                   RectangleBox[{0, -1}, {2, 1}]}}, DefaultBaseStyle -> 
                 "ColorSwatchGraphics", AspectRatio -> 1, Frame -> True, 
                 FrameStyle -> RGBColor[0., 0.6666666666666666, 0.], 
                 FrameTicks -> None, PlotRangePadding -> None, ImageSize -> 
                 Dynamic[{
                   Automatic, 
                    1.35 (CurrentValue["FontCapHeight"]/AbsoluteCurrentValue[
                    Magnification])}]], 
                StyleBox[
                 RowBox[{"RGBColor", "[", 
                   RowBox[{"0", ",", "1", ",", "0"}], "]"}], NumberMarks -> 
                 False]], Appearance -> None, BaseStyle -> {}, 
               BaselinePosition -> Baseline, DefaultBaseStyle -> {}, 
               ButtonFunction :> With[{Typeset`box$ = EvaluationBox[]}, 
                 If[
                  Not[
                   AbsoluteCurrentValue["Deployed"]], 
                  SelectionMove[Typeset`box$, All, Expression]; 
                  FrontEnd`Private`$ColorSelectorInitialAlpha = 1; 
                  FrontEnd`Private`$ColorSelectorInitialColor = 
                   RGBColor[0, 1, 0]; 
                  FrontEnd`Private`$ColorSelectorUseMakeBoxes = True; 
                  MathLink`CallFrontEnd[
                    FrontEnd`AttachCell[Typeset`box$, 
                    FrontEndResource["RGBColorValueSelector"], {
                    0, {Left, Bottom}}, {Left, Top}, 
                    "ClosingActions" -> {
                    "SelectionDeparture", "ParentChanged", 
                    "EvaluatorQuit"}]]]], BaseStyle -> Inherited, Evaluator -> 
               Automatic, Method -> "Preemptive"], 
              RGBColor[0, 1, 0], Editable -> False, Selectable -> False], ",", 
             InterpretationBox[
              ButtonBox[
               TooltipBox[
                GraphicsBox[{{
                   GrayLevel[0], 
                   RectangleBox[{0, 0}]}, {
                   GrayLevel[0], 
                   RectangleBox[{1, -1}]}, {
                   RGBColor[0, 0, 1], 
                   RectangleBox[{0, -1}, {2, 1}]}}, DefaultBaseStyle -> 
                 "ColorSwatchGraphics", AspectRatio -> 1, Frame -> True, 
                 FrameStyle -> RGBColor[0., 0., 0.6666666666666666], 
                 FrameTicks -> None, PlotRangePadding -> None, ImageSize -> 
                 Dynamic[{
                   Automatic, 
                    1.35 (CurrentValue["FontCapHeight"]/AbsoluteCurrentValue[
                    Magnification])}]], 
                StyleBox[
                 RowBox[{"RGBColor", "[", 
                   RowBox[{"0", ",", "0", ",", "1"}], "]"}], NumberMarks -> 
                 False]], Appearance -> None, BaseStyle -> {}, 
               BaselinePosition -> Baseline, DefaultBaseStyle -> {}, 
               ButtonFunction :> With[{Typeset`box$ = EvaluationBox[]}, 
                 If[
                  Not[
                   AbsoluteCurrentValue["Deployed"]], 
                  SelectionMove[Typeset`box$, All, Expression]; 
                  FrontEnd`Private`$ColorSelectorInitialAlpha = 1; 
                  FrontEnd`Private`$ColorSelectorInitialColor = 
                   RGBColor[0, 0, 1]; 
                  FrontEnd`Private`$ColorSelectorUseMakeBoxes = True; 
                  MathLink`CallFrontEnd[
                    FrontEnd`AttachCell[Typeset`box$, 
                    FrontEndResource["RGBColorValueSelector"], {
                    0, {Left, Bottom}}, {Left, Top}, 
                    "ClosingActions" -> {
                    "SelectionDeparture", "ParentChanged", 
                    "EvaluatorQuit"}]]]], BaseStyle -> Inherited, Evaluator -> 
               Automatic, Method -> "Preemptive"], 
              RGBColor[0, 0, 1], Editable -> False, Selectable -> False], ",", 
             InterpretationBox[
              ButtonBox[
               TooltipBox[
                GraphicsBox[{{
                   GrayLevel[0], 
                   RectangleBox[{0, 0}]}, {
                   GrayLevel[0], 
                   RectangleBox[{1, -1}]}, {
                   GrayLevel[0.5], 
                   RectangleBox[{0, -1}, {2, 1}]}}, DefaultBaseStyle -> 
                 "ColorSwatchGraphics", AspectRatio -> 1, Frame -> True, 
                 FrameStyle -> GrayLevel[0.33333333333333337`], FrameTicks -> 
                 None, PlotRangePadding -> None, ImageSize -> 
                 Dynamic[{
                   Automatic, 
                    1.35 (CurrentValue["FontCapHeight"]/AbsoluteCurrentValue[
                    Magnification])}]], 
                StyleBox[
                 RowBox[{"GrayLevel", "[", "0.5`", "]"}], NumberMarks -> 
                 False]], Appearance -> None, BaseStyle -> {}, 
               BaselinePosition -> Baseline, DefaultBaseStyle -> {}, 
               ButtonFunction :> With[{Typeset`box$ = EvaluationBox[]}, 
                 If[
                  Not[
                   AbsoluteCurrentValue["Deployed"]], 
                  SelectionMove[Typeset`box$, All, Expression]; 
                  FrontEnd`Private`$ColorSelectorInitialAlpha = 1; 
                  FrontEnd`Private`$ColorSelectorInitialColor = 
                   GrayLevel[0.5]; 
                  FrontEnd`Private`$ColorSelectorUseMakeBoxes = True; 
                  MathLink`CallFrontEnd[
                    FrontEnd`AttachCell[Typeset`box$, 
                    FrontEndResource["GrayLevelColorValueSelector"], {
                    0, {Left, Bottom}}, {Left, Top}, 
                    "ClosingActions" -> {
                    "SelectionDeparture", "ParentChanged", 
                    "EvaluatorQuit"}]]]], BaseStyle -> Inherited, Evaluator -> 
               Automatic, Method -> "Preemptive"], 
              GrayLevel[0.5], Editable -> False, Selectable -> False]}], 
           "}"}], ",", 
         RowBox[{"{", 
           RowBox[{#, ",", #2, ",", #3, ",", #4}], "}"}]}], "]"}]& ), 
    Editable -> True]},
  "RowDefault"]], "Output",
 CellChangeTimes->{3.8437239118973618`*^9, 3.843723965166068*^9, 
  3.8437245984517*^9, 3.8437249230556693`*^9, 3.8437250977858562`*^9, 
  3.843725270782981*^9, 3.843725382876435*^9, 3.843725917279278*^9, 
  3.843726193624013*^9, 3.843726375678781*^9, 3.8437271318794284`*^9, 
  3.843727842188984*^9, 3.84372804135515*^9, 3.8437285252235003`*^9, 
  3.844601743821431*^9, 3.84468528959237*^9, 3.844931194837429*^9, 
  3.84493209833043*^9, 3.8449322302148657`*^9, 3.844939672835069*^9},
 CellLabel->"Out[6]=",ExpressionUUID->"9afa8ef7-a9f5-40db-9909-0ac1eaed9042"]
}, Open  ]]
},
WindowSize->{831, 645},
WindowMargins->{{156, Automatic}, {77, Automatic}},
TaggingRules->Association["TryRealOnly" -> False],
FrontEndVersion->"12.3 for Microsoft Windows (64-bit) (June 19, 2021)",
StyleDefinitions->"Default.nb",
ExpressionUUID->"c4091b8c-ffc6-45e5-9b50-2fb7742f20a8"
]
(* End of Notebook Content *)

(* Internal cache information *)
(*CellTagsOutline
CellTagsIndex->{}
*)
(*CellTagsIndex
CellTagsIndex->{}
*)
(*NotebookFileOutline
Notebook[{
Cell[558, 20, 1555, 39, 97, "Input",ExpressionUUID->"4594013f-50d0-412e-912c-b672a554243d"],
Cell[2116, 61, 734, 16, 29, "Input",ExpressionUUID->"7fe55120-d5b6-4a16-a2a4-04f5afc3b267"],
Cell[2853, 79, 4500, 96, 190, "Input",ExpressionUUID->"e1f0f97a-c8ce-4c03-8a8c-1566abe4c485"],
Cell[CellGroupData[{
Cell[7378, 179, 214, 4, 29, "Input",ExpressionUUID->"4df22ac6-69a1-4718-915b-ecdfac206ecb"],
Cell[7595, 185, 11595, 243, 392, "Output",ExpressionUUID->"627949ac-f2fc-476a-94a1-8aeb6bcfba25"]
}, Open  ]],
Cell[CellGroupData[{
Cell[19227, 433, 271, 6, 29, "Input",ExpressionUUID->"e1f6e3d5-6af4-44b1-b406-6a4414cd8388"],
Cell[19501, 441, 14400, 301, 394, "Output",ExpressionUUID->"9afa8ef7-a9f5-40db-9909-0ac1eaed9042"]
}, Open  ]]
}
]
*)

